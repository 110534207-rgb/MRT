# 系統設計

## 1. 系統架構圖

本專案採用純前端架構，不依賴任何後端伺服器或資料庫。所有功能均在使用者瀏覽器中透過 HTML、CSS 和 JavaScript 實現。

```
+---------------------------------------------------+
|                   使用者瀏覽器                    |
| +-----------------------------------------------+ |
| |                  Web 頁面                     | |
| | +-------------------------------------------+ | |
| | |                   HTML                    | | |
| | | (定義頁面結構，如地圖容器、按鈕)          | | |
| | +-------------------------------------------+ | |
| | +-------------------------------------------+ | |
| | |                    CSS                    | | |
| | | (定義樣式，如路線顏色、站點外觀、響應式設計)| | |
| | +-------------------------------------------+ | |
| | +-------------------------------------------+ | |
| | |                JavaScript                 | | |
| | | +---------------------------------------+ | | |
| | | | 資料模組 (車站/景點陣列)              | | | |
| | | +---------------------------------------+ | | |
| | | | UI 渲染模組 (動態產生站點)            | | | |
| | | +---------------------------------------+ | | |
| | | | 事件處理模組 (站點點擊、管理員操作)   | | | |
| | | +---------------------------------------+ | | |
| | | | 核心邏輯模組 (景點顯示、密碼驗證等)   | | | |
| | | +---------------------------------------+ | | |
| | +-------------------------------------------+ | |
| +-----------------------------------------------+ |
+---------------------------------------------------+
```

**架構說明：**

1.  **使用者**：透過網頁瀏覽器直接開啟專案中的 `.html` 檔案。
2.  **HTML**：作為靜態檔案，定義了網頁的基本骨架。
3.  **CSS**：內嵌於 HTML 中，負責所有視覺樣式，使地圖美觀且具備基本的響應式能力。
4.  **JavaScript**：同樣內嵌於 HTML 中，是整個應用程式的核心，負責：
    *   **資料管理**：在程式碼中直接定義並儲存所有捷運站點和景點資料。
    *   **動態渲染**：在頁面載入時，讀取資料並動態生成地圖上的所有站點元素。
    *   **互動邏輯**：處理使用者的所有操作，包括點擊站點顯示景點、管理員登入、以及對景點資料的新增與刪除。

---

## 2. 模組職責

儘管所有程式碼都在同一個檔案中，我們可以將其邏輯上劃分為以下幾個模組：

| 模組名稱 | 主要職責 | 詳細說明 |
| :--- | :--- | :--- |
| **資料模組** | 提供車站與景點的初始資料 | 包含一個 `getDefaultStations` 函式，此函式回傳一個包含所有車站物件的陣列。每個車站物件都包含其名稱、CSS 定位資訊以及一個景點字串陣列。 |
| **UI 渲染模組** | 動態建立使用者介面 | 負責在頁面載入時，遍歷資料模組提供的車站陣列，並在頁面上動態產生對應的 `div` 元素來代表每個車站。 |
| **訪客互動模組** | 處理訪客的查詢操作 | 監聽各地圖站點的點擊事件。當訪客點擊某個站點時，此模組會從資料陣列中找到對應的景點列表，並將其顯示在彈出視窗或指定的資訊面板中。 |
| **管理員模組** | 處理管理員的所有功能 | - **登入**：提供密碼驗證功能，成功後切換到管理員模式。<br>- **新增景點**：提供介面讓管理員輸入新景點，並將其加入到對應車站的資料陣列中，然後刷新景點列表。<br>- **刪除景點**：提供介面讓管理員刪除現有景點，並將其從資料陣列中移除，然後刷新景點列表。 |

---

## 3. 資料表對應

本專案**未使用**傳統的後端資料庫，因此沒有實體的資料表（Table）。所有應用程式資料皆以 JavaScript 物件的形式儲存在前端程式碼中。其資料結構等同於一個記憶體內的資料庫。

### 資料結構定義

資料儲存在一個名為 `stations` 的 JavaScript 陣列中，其結構如下：

```javascript
// stations 陣列
[
    // Station 物件
    {
        "name": "車站名稱",       // (String) 車站的中文名稱
        "top": "50%",             // (String) 用於 CSS 定位的 top 屬性
        "left": "30%",            // (String) 用於 CSS 定位的 left 屬性
        "attractions": [          // (Array of Strings) 景點列表
            "景點一",
            "景點二"
        ]
    },
    // ... 其他 Station 物件
]
```

這個 `stations` 陣列在每次頁面載入時，都會從 `getDefaultStations` 函式重新初始化。管理員在頁面中所做的任何修改（新增/刪除）都只會影響記憶體中的這個陣列，一旦重新整理頁面，所有變更都會遺失。
